{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RestWalker } from \"./rest\";\nimport { first } from \"./first\";\nimport { assign, forEach } from \"../../utils/utils\";\nimport { IN } from \"../constants\";\nimport { Flat } from \"./gast/gast_public\"; // This ResyncFollowsWalker computes all of the follows required for RESYNC\n// (skipping reference production).\n\nvar ResyncFollowsWalker = function (_super) {\n  __extends(ResyncFollowsWalker, _super);\n\n  function ResyncFollowsWalker(topProd) {\n    var _this = _super.call(this) || this;\n\n    _this.topProd = topProd;\n    _this.follows = {};\n    return _this;\n  }\n\n  ResyncFollowsWalker.prototype.startWalking = function () {\n    this.walk(this.topProd);\n    return this.follows;\n  };\n\n  ResyncFollowsWalker.prototype.walkTerminal = function (terminal, currRest, prevRest) {// do nothing! just like in the public sector after 13:00\n  };\n\n  ResyncFollowsWalker.prototype.walkProdRef = function (refProd, currRest, prevRest) {\n    var followName = buildBetweenProdsFollowPrefix(refProd.referencedRule, refProd.idx) + this.topProd.name;\n    var fullRest = currRest.concat(prevRest);\n    var restProd = new Flat({\n      definition: fullRest\n    });\n    var t_in_topProd_follows = first(restProd);\n    this.follows[followName] = t_in_topProd_follows;\n  };\n\n  return ResyncFollowsWalker;\n}(RestWalker);\n\nexport { ResyncFollowsWalker };\nexport function computeAllProdsFollows(topProductions) {\n  var reSyncFollows = {};\n  forEach(topProductions, function (topProd) {\n    var currRefsFollow = new ResyncFollowsWalker(topProd).startWalking();\n    assign(reSyncFollows, currRefsFollow);\n  });\n  return reSyncFollows;\n}\nexport function buildBetweenProdsFollowPrefix(inner, occurenceInParent) {\n  return inner.name + occurenceInParent + IN;\n}\nexport function buildInProdFollowPrefix(terminal) {\n  var terminalName = terminal.terminalType.name;\n  return terminalName + terminal.idx + IN;\n}","map":{"version":3,"sources":["/Users/mingjie.wang/Documents/Uber/MandA/demo-project/node_modules/chevrotain/lib_esm/src/parse/grammar/follow.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","RestWalker","first","assign","forEach","IN","Flat","ResyncFollowsWalker","_super","topProd","_this","call","follows","startWalking","walk","walkTerminal","terminal","currRest","prevRest","walkProdRef","refProd","followName","buildBetweenProdsFollowPrefix","referencedRule","idx","name","fullRest","concat","restProd","definition","t_in_topProd_follows","computeAllProdsFollows","topProductions","reSyncFollows","currRefsFollow","inner","occurenceInParent","buildInProdFollowPrefix","terminalName","terminalType"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { RestWalker } from \"./rest\";\nimport { first } from \"./first\";\nimport { assign, forEach } from \"../../utils/utils\";\nimport { IN } from \"../constants\";\nimport { Flat } from \"./gast/gast_public\";\n// This ResyncFollowsWalker computes all of the follows required for RESYNC\n// (skipping reference production).\nvar ResyncFollowsWalker = /** @class */ (function (_super) {\n    __extends(ResyncFollowsWalker, _super);\n    function ResyncFollowsWalker(topProd) {\n        var _this = _super.call(this) || this;\n        _this.topProd = topProd;\n        _this.follows = {};\n        return _this;\n    }\n    ResyncFollowsWalker.prototype.startWalking = function () {\n        this.walk(this.topProd);\n        return this.follows;\n    };\n    ResyncFollowsWalker.prototype.walkTerminal = function (terminal, currRest, prevRest) {\n        // do nothing! just like in the public sector after 13:00\n    };\n    ResyncFollowsWalker.prototype.walkProdRef = function (refProd, currRest, prevRest) {\n        var followName = buildBetweenProdsFollowPrefix(refProd.referencedRule, refProd.idx) +\n            this.topProd.name;\n        var fullRest = currRest.concat(prevRest);\n        var restProd = new Flat({ definition: fullRest });\n        var t_in_topProd_follows = first(restProd);\n        this.follows[followName] = t_in_topProd_follows;\n    };\n    return ResyncFollowsWalker;\n}(RestWalker));\nexport { ResyncFollowsWalker };\nexport function computeAllProdsFollows(topProductions) {\n    var reSyncFollows = {};\n    forEach(topProductions, function (topProd) {\n        var currRefsFollow = new ResyncFollowsWalker(topProd).startWalking();\n        assign(reSyncFollows, currRefsFollow);\n    });\n    return reSyncFollows;\n}\nexport function buildBetweenProdsFollowPrefix(inner, occurenceInParent) {\n    return inner.name + occurenceInParent + IN;\n}\nexport function buildInProdFollowPrefix(terminal) {\n    var terminalName = terminal.terminalType.name;\n    return terminalName + terminal.idx + IN;\n}\n//# sourceMappingURL=follow.js.map"]},"metadata":{},"sourceType":"module"}