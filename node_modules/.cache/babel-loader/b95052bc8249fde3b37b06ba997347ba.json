{"ast":null,"code":"var _jsxFileName = \"/Users/mingjie.wang/Documents/Uber/MandA/demo-project/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Handsontable from \"handsontable\";\nimport { HyperFormula } from 'hyperformula';\nimport { HotTable, HotColumn } from \"@handsontable/react\";\nimport \"handsontable/dist/handsontable.min.css\";\nimport \"./App.css\"; // usertype / which section should be displayed\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userGroup = {\n  \"Admin\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"M&A Integration Proces\", \"Legal\", \"Immigration\", \"Mobility\", \"EIB (onboard into WD)\", \"Comp (M&A)\", \"Welcome / POps\", \"Separation / POps\", \"HR\", \"Cell Formula Demo\"],\n  \"Legal Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Legal\", \"Immigration\", \"Comp (M&A)\"],\n  \"Welcome Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Mobility\", \"Welcome / POps\"],\n  \"Separation Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Mobility\", \"Separation / POps\"]\n};\nconst mockSectionData = {\n  \"Employee Unique ID (Fixed Section)\": 'Employee Unique ID',\n  \"Core People Data\": 'First Name\tLast Name\tEmail\tCompany\tLegal Entity\tEmployee Status\tEmployee Type\tDate of Hire\tImmigration Supported\tOffice/\\nLocation\tRemote working\tCurrent Job Level\tCurrent Job Title\tCurrent Job Family Group\tFunction',\n  'M&A Integration Proces': 'Uber EEID\tIn Deal (Y/N)\tWAVE\tDisposition\tCohort\tReason left Deal\tDate Left',\n  'Legal': 'Gender\tDate of Birth\tRace/Ethnicity\tNationality\tSupervisor Unique ID\tSupervisor Organization\tSupervisor Email\tAIA Flag\tLegal Hold\tGarden Leave\tEmployee Transfer Decision\tTalent Release Justification\tNotification Date\tLast Day Worked\tTermination Date\tOffice location\tDisposition',\n  'Immigration': 'Immigration Supported\tImmigration Status\tVisa Expiration\tCan start on Day 1?\tEligible for Immi Garden Leave',\n  'Mobility': 'On Assignment (Y/N)\tAssignment end date\tRelocation (Y/N)',\n  'EIB (onboard into WD)': `Employee ID\tManager's Employee ID\tSupervisory Organization Reference ID\tPosition ID\tJob Posting Title\tAvailability Date\tEarliest Hire Date\tCountry (Alpha-3 Code)\tPrefix\tLegal First Name\tLegal Middle Name\tLegal Last Name\tSuffix\tPersonal Email Address\tHire Reason Code\tHire Date\tOriginal Hire Date\tEmployee Type\tContinuous Service Date\tConversion Position Start Date\tJob Profile (Job Code)\tPosition Title\tBusiness Title\tLocation\tLocation ID\tTime Type\tWork Shift\tDefault Hours\tScheduled Hours\tFTE Validation\tPay Rate Type\tCompensation Package\tCompensation Grade\tCompensation Grade ID\tCompensation Grade Profile\tCompensation Grade Profile ID\tBase Pay Plan\tBase Pay Amount\tBase Pay Currency\tBase Pay Frequency\tAllowance Plan 1\tAllowance Plan 1 Reference ID\tAllowance 1 Amount\tAllowance 1 Frequency\tBonus Plan\tBonus Plan ID\tBonus Plan Amount\tBonus Plan Percent\tPeriod Salary Plan\tPeriod Salary Plan ID\tCommission Plan\tCommission Plan ID\tCommission Plan Target Amount\tDraw Amount\tDraw Frequency\tDraw Duration\tRecoverable?\tCompany\tCompany ID\tCost Center\tCost Center ID\tMarket\tMarket ID\tLine of Business\tLine of Business ID\tPay Group\tPay Group ID\tWork Email/User Name\tContract Start Date\tContract End Date\tContract Status\tPosition Reference\tAddress Line 1\tAddress Line 2\tAddress Line 3\tAddress Line 4\tCity\tState/Region\tPostal Code\tCountry\tUse For\tOne-Time Payment Plan\tEffective Date\tScheduled Payment Date\tAmount\tCurrency\tSend to Payroll?`,\n  'Comp (M&A)': `Job Profile\tJob Family\tJob Level\tPay Rate Type`,\n  'Welcome / POps': `Email Address\tName\tPersonal Email\tEEID\tJob Title\tManager\tUber Office Location\tBase Salary\tBonus Target\tNew Hire Grant\tBridge Bonus\tRetention Bonus`,\n  'Separation / POps': `Email Address\tName\tPersonal Email\tEEID\tDisposition\tOriginal Start Date\t\"Tenured Uber \n  (Years + Quarters)\"\tCurrent Unvested Equity\tWeekly Salary\t2 weeks pay\t\"Base Severance\n  ( 4 weeks) \"\tTenure Severance\t\"Uber Severance\n  ( Base + Tenure)\"\tUber Severance less Equity\tIs equity greater than Uber severance? (greater/ Less)\tFinal Severance amount\tCOBRA amount\t6 Month Benefits Cash Payment\tLOA Flag?\tImmigration Check\tSeverance template\tHourly Rate\tHours per Week\tIntegration Bonus\tLocation\tCA or Non CA\tDate of Birth\tAge\tJob Title\tUber Severance Policy\tWARN check`,\n  'HR': `Supervisory Org\tELT\tELT+1`,\n  \"Cell Formula Demo\": 'First Value\tSecond Value\tOperation\tOutput'\n};\nlet allSections = [];\nlet nestedHeaders = [[], []];\nlet allColumns = [];\n\nconst generateNestedHeaders = rawData => {\n  let columnIndex = 0;\n  Object.entries(rawData).forEach(([key, value], index) => {\n    allSections.push(key);\n    let tempSplitArr = value.split('\\t');\n    nestedHeaders[0].push({\n      label: key,\n      colspan: tempSplitArr.length\n    });\n    nestedHeaders[1] = nestedHeaders[1].concat(tempSplitArr);\n    tempSplitArr.forEach((col, tempI) => {\n      if (key === \"Legal\") {\n        console.log(tempI);\n        console.log(key === 'Employee Unique ID (Fixed Section)' || key === 'Core People Data' || key === \"Legal\" && 0 < tempI < 5);\n      }\n\n      allColumns.push([col, key, key === 'Employee Unique ID (Fixed Section)' || key === 'Core People Data' || key === \"Legal\" && 0 < tempI < 5 ? true : false, columnIndex]);\n      columnIndex += 1;\n    });\n  });\n  return;\n};\n\ngenerateNestedHeaders(mockSectionData);\nconst mockRawData = [['ABC_100000\tJohn\tSmith\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport', 'ABC_100000\tY\t2\t\t\t\t', 'Male\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t', 'Y\tL-1A\t11/2/2022\tY\tY', 'Y\t12/2022\tY', '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Operations Engineer\tEngineering\tLevel 4\tSalary', 'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000', 'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA', 'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese', '10', '26', 'Sum', '=SUM(GD1:GE1)'], ['XYZ_100000\tRaj\tPatel\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport', 'XYZ_100000\tY\t2\t\t\t\t', 'Male\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t', 'N\tH-1B\t1/21/2013\tN \tNA', 'N\tNA\tN', '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Software Engineer\tEngineering\tLevel 5\tSalary', 'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000', 'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA', 'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz', '10', '26', 'Average', '=AVERAGE(GD2:GE2)'], ['ABC_100001\tJohn2\tSmith2\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport', 'ABC_100000\tY\t2\t\t\t\t', 'Female\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t', 'Y\tL-1A\t11/2/2022\tY\tY', 'Y\t12/2022\tY', '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Operations Engineer\tEngineering\tLevel 4\tSalary', 'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000', 'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA', 'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese', '10', '26', 'Median', '=MEDIAN(GD3:GE3)'], ['XYZ_100001\tRaj2\tPatel2\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport', 'XYZ_100000\tY\t2\t\t\t\t', 'Female\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t', 'N\tH-1B\t1/21/2013\tN \tNA', 'N\tNA\tN', '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Software Engineer\tEngineering\tLevel 5\tSalary', 'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000', 'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA', 'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz', '10', '26', 'MAX', '=MAX(GD4:GE4)'], ['ABC_100002\tJohn3\tSmith3\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport', 'ABC_100000\tY\t2\t\t\t\t', 'Male\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t', 'Y\tL-1A\t11/2/2022\tY\tY', 'Y\t12/2022\tY', '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Operations Engineer\tEngineering\tLevel 4\tSalary', 'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000', 'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA', 'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese', '10', '26', 'MIN', '=MIN(GD5:GE5)'], ['XYZ_100002\tRaj3\tPatel3\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport', 'XYZ_100000\tY\t2\t\t\t\t', 'Female\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t', 'N\tH-1B\t1/21/2013\tN \tNA', 'N\tNA\tN', '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t', 'Software Engineer\tEngineering\tLevel 5\tSalary', 'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000', 'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA', 'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz', '10', '26', 'Sum of First Value', '=SUM(GD:GD)']];\n\nconst cleanRawData = rawDataArr => {\n  let cleanedData = [];\n  rawDataArr.forEach(rawData => {\n    cleanedData.push(rawData.reduce((prev, data) => {\n      return prev.concat(data.split('\\t'));\n    }, []));\n  });\n  return cleanedData;\n};\n\nconst cleanData = cleanRawData(mockRawData);\n\nfunction App() {\n  _s();\n\n  const hotTable = useRef();\n  const [activeUser, setActiveUser] = useState('Admin');\n  const [activeSection, setActiveSection] = useState(\"Core People Data\");\n  const [tableHasChanged, setTableHasChanged] = useState(false);\n  useEffect(() => {\n    if (hotTable.current) {\n      // collapse all titles\n      // hotTable.current.hotInstance.getPlugin(\"collapsibleColumns\").collapseAll();\n      // get the column index that should be hidden\n      let tempHiddenArray = [];\n      allColumns.forEach(([columnName, sectionName, readOnlyIndicator, colIndex], index) => {\n        if (sectionName === activeSection || sectionName === 'Employee Unique ID (Fixed Section)') {\n          return;\n        }\n\n        tempHiddenArray.push(index);\n      }); // hide the column\n\n      hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").hideColumns(tempHiddenArray);\n      hotTable.current.hotInstance.render();\n    }\n  });\n\n  const testAfterChange = changes => {\n    if (!changes) return;\n    let [row, col, preValue, afterValue] = changes[0];\n    if (preValue === afterValue) return;\n    alert(`value at row: ${row}, col: ${col} has changed from ${preValue} to ${afterValue}`);\n    if (!tableHasChanged) setTableHasChanged(true);\n  };\n\n  const changeUser = userType => {\n    // change active user\n    setActiveUser(userType); // set default column\n\n    setActiveSection(userGroup[userType][1]);\n  };\n\n  const changeSection = currentActiveSection => {\n    // set active section\n    setActiveSection(currentActiveSection);\n  };\n\n  const customValidator = (columnName, colIndex, query, callback) => {\n    console.log(query);\n\n    if (columnName === \"Gender\" && query.toLowerCase() !== \"male\" && query.toLowerCase() !== \"female\") {\n      callback(false);\n    } else {\n      callback(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"app-title\",\n      children: \"M&A Data Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-role-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Personas / User roles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), Object.keys(userGroup).map(key => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `app-button ${key === activeUser ? \"active\" : \"\"}`,\n          onClick: () => changeUser(key),\n          children: key\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 20\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"current-user\",\n        children: [\"Current User Role is \", activeUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-column-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This user can view below sections; Click below buttons to view different section table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), userGroup[activeUser].map((key, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `app-button ${index === 0 ? \"unclickable active\" : \"\"} ${key === activeSection ? \"active\" : \"\"}`,\n          onClick: () => changeSection(key),\n          children: key\n        }, `section-title-${key}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotTable, {\n      id: \"app-table\",\n      ref: hotTable,\n      data: cleanData,\n      height: 'auto',\n      width: \"100%\",\n      colWidths: 250,\n      search: true,\n      nestedHeaders: nestedHeaders,\n      collapsibleColumns: true,\n      dropdownMenu: true,\n      multiColumnSorting: true,\n      filters: true,\n      rowHeaders: true // colHeaders={true}\n      ,\n      fixedColumnsLeft: 1,\n      manualColumnResize: true,\n      manualRowResize: true,\n      manualRowMove: true,\n      hiddenColumns: true,\n      formulas: {\n        engine: HyperFormula\n      },\n      afterChange: changes => testAfterChange(changes),\n      licenseKey: \"non-commercial-and-evaluation\",\n      children: allColumns.map(([columnName, sectionName, readOnlyIndicator, colIndex]) => {\n        return /*#__PURE__*/_jsxDEV(HotColumn, {\n          data: colIndex,\n          readOnly: activeUser !== 'Admin' && readOnlyIndicator,\n          validator: (query, callback) => {\n            customValidator(columnName, colIndex, query, callback);\n          }\n        }, `hotColumn-${colIndex}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 20\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Features need to implement in the future\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `app-button ${tableHasChanged ? \"active\" : \"\"}`,\n      children: \"Save the new / updated fields\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-button\",\n      children: \"Import from Google Sheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-button\",\n      children: \"Export to Google Sheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"e3BENj9LJtx10FCCuodYVxv47IY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mingjie.wang/Documents/Uber/MandA/demo-project/src/App.js"],"names":["React","useEffect","useRef","useState","Handsontable","HyperFormula","HotTable","HotColumn","userGroup","mockSectionData","allSections","nestedHeaders","allColumns","generateNestedHeaders","rawData","columnIndex","Object","entries","forEach","key","value","index","push","tempSplitArr","split","label","colspan","length","concat","col","tempI","console","log","mockRawData","cleanRawData","rawDataArr","cleanedData","reduce","prev","data","cleanData","App","hotTable","activeUser","setActiveUser","activeSection","setActiveSection","tableHasChanged","setTableHasChanged","current","tempHiddenArray","columnName","sectionName","readOnlyIndicator","colIndex","hotInstance","getPlugin","hideColumns","render","testAfterChange","changes","row","preValue","afterValue","alert","changeUser","userType","changeSection","currentActiveSection","customValidator","query","callback","toLowerCase","keys","map","engine"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Handsontable from \"handsontable\";\nimport { HyperFormula } from 'hyperformula';\nimport { HotTable, HotColumn } from \"@handsontable/react\";\nimport \"handsontable/dist/handsontable.min.css\";\nimport \"./App.css\";\n\n// usertype / which section should be displayed\nconst userGroup = {\n  \"Admin\": [\n    \"Employee Unique ID (Fixed Section)\",\n    \"Core People Data\",\n    \"M&A Integration Proces\",\n    \"Legal\",\n    \"Immigration\",\n    \"Mobility\",\n    \"EIB (onboard into WD)\",\n    \"Comp (M&A)\",\n    \"Welcome / POps\",\n    \"Separation / POps\",\n    \"HR\",\n    \"Cell Formula Demo\"\n  ],\n  \"Legal Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Legal\", \"Immigration\", \"Comp (M&A)\"],\n  \"Welcome Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Mobility\", \"Welcome / POps\"],\n  \"Separation Team\": [\"Employee Unique ID (Fixed Section)\", \"Core People Data\", \"Mobility\", \"Separation / POps\"]\n}\n\nconst mockSectionData = {\n  \"Employee Unique ID (Fixed Section)\": 'Employee Unique ID',\n  \"Core People Data\": 'First Name\tLast Name\tEmail\tCompany\tLegal Entity\tEmployee Status\tEmployee Type\tDate of Hire\tImmigration Supported\tOffice/\\nLocation\tRemote working\tCurrent Job Level\tCurrent Job Title\tCurrent Job Family Group\tFunction',\n  'M&A Integration Proces': 'Uber EEID\tIn Deal (Y/N)\tWAVE\tDisposition\tCohort\tReason left Deal\tDate Left',\n  'Legal': 'Gender\tDate of Birth\tRace/Ethnicity\tNationality\tSupervisor Unique ID\tSupervisor Organization\tSupervisor Email\tAIA Flag\tLegal Hold\tGarden Leave\tEmployee Transfer Decision\tTalent Release Justification\tNotification Date\tLast Day Worked\tTermination Date\tOffice location\tDisposition',\n  'Immigration': 'Immigration Supported\tImmigration Status\tVisa Expiration\tCan start on Day 1?\tEligible for Immi Garden Leave',\n  'Mobility': 'On Assignment (Y/N)\tAssignment end date\tRelocation (Y/N)',\n  'EIB (onboard into WD)': `Employee ID\tManager's Employee ID\tSupervisory Organization Reference ID\tPosition ID\tJob Posting Title\tAvailability Date\tEarliest Hire Date\tCountry (Alpha-3 Code)\tPrefix\tLegal First Name\tLegal Middle Name\tLegal Last Name\tSuffix\tPersonal Email Address\tHire Reason Code\tHire Date\tOriginal Hire Date\tEmployee Type\tContinuous Service Date\tConversion Position Start Date\tJob Profile (Job Code)\tPosition Title\tBusiness Title\tLocation\tLocation ID\tTime Type\tWork Shift\tDefault Hours\tScheduled Hours\tFTE Validation\tPay Rate Type\tCompensation Package\tCompensation Grade\tCompensation Grade ID\tCompensation Grade Profile\tCompensation Grade Profile ID\tBase Pay Plan\tBase Pay Amount\tBase Pay Currency\tBase Pay Frequency\tAllowance Plan 1\tAllowance Plan 1 Reference ID\tAllowance 1 Amount\tAllowance 1 Frequency\tBonus Plan\tBonus Plan ID\tBonus Plan Amount\tBonus Plan Percent\tPeriod Salary Plan\tPeriod Salary Plan ID\tCommission Plan\tCommission Plan ID\tCommission Plan Target Amount\tDraw Amount\tDraw Frequency\tDraw Duration\tRecoverable?\tCompany\tCompany ID\tCost Center\tCost Center ID\tMarket\tMarket ID\tLine of Business\tLine of Business ID\tPay Group\tPay Group ID\tWork Email/User Name\tContract Start Date\tContract End Date\tContract Status\tPosition Reference\tAddress Line 1\tAddress Line 2\tAddress Line 3\tAddress Line 4\tCity\tState/Region\tPostal Code\tCountry\tUse For\tOne-Time Payment Plan\tEffective Date\tScheduled Payment Date\tAmount\tCurrency\tSend to Payroll?`,\n  'Comp (M&A)': `Job Profile\tJob Family\tJob Level\tPay Rate Type`,\n  'Welcome / POps': `Email Address\tName\tPersonal Email\tEEID\tJob Title\tManager\tUber Office Location\tBase Salary\tBonus Target\tNew Hire Grant\tBridge Bonus\tRetention Bonus`,\n  'Separation / POps': `Email Address\tName\tPersonal Email\tEEID\tDisposition\tOriginal Start Date\t\"Tenured Uber \n  (Years + Quarters)\"\tCurrent Unvested Equity\tWeekly Salary\t2 weeks pay\t\"Base Severance\n  ( 4 weeks) \"\tTenure Severance\t\"Uber Severance\n  ( Base + Tenure)\"\tUber Severance less Equity\tIs equity greater than Uber severance? (greater/ Less)\tFinal Severance amount\tCOBRA amount\t6 Month Benefits Cash Payment\tLOA Flag?\tImmigration Check\tSeverance template\tHourly Rate\tHours per Week\tIntegration Bonus\tLocation\tCA or Non CA\tDate of Birth\tAge\tJob Title\tUber Severance Policy\tWARN check`,\n  'HR': `Supervisory Org\tELT\tELT+1`,\n  \"Cell Formula Demo\": 'First Value\tSecond Value\tOperation\tOutput'\n}\n\nlet allSections = []\nlet nestedHeaders = [[], []];\nlet allColumns = []\nconst generateNestedHeaders = (rawData) => {\n  let columnIndex = 0;\n  Object.entries(rawData).forEach(([key, value], index) => {\n    allSections.push(key);\n\n    let tempSplitArr = value.split('\\t');\n    nestedHeaders[0].push({\n      label: key,\n      colspan: tempSplitArr.length,\n    });\n    nestedHeaders[1] = nestedHeaders[1].concat(tempSplitArr);\n\n    tempSplitArr.forEach((col, tempI) => {\n      if (key === \"Legal\") {\n        console.log(tempI);\n        console.log((key === 'Employee Unique ID (Fixed Section)' || key === 'Core People Data' || (key === \"Legal\" && 0 < tempI < 5)));  \n      }\n      allColumns.push([\n        col,\n        key,\n        (key === 'Employee Unique ID (Fixed Section)' || key === 'Core People Data' || (key === \"Legal\" && 0 < tempI < 5)) ? true : false,\n        columnIndex\n      ]);\n      columnIndex += 1;\n    });\n  });\n  return;\n};\ngenerateNestedHeaders(mockSectionData);\n\nconst mockRawData = [[\n  'ABC_100000\tJohn\tSmith\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport',\n  'ABC_100000\tY\t2\t\t\t\t',\n  'Male\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t',\n  'Y\tL-1A\t11/2/2022\tY\tY',\n  'Y\t12/2022\tY',\n  '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Operations Engineer\tEngineering\tLevel 4\tSalary',\n  'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000',\n  'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA',\n  'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese',\n  '10', '26', 'Sum', '=SUM(GD1:GE1)'\n], [\n  'XYZ_100000\tRaj\tPatel\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport',\n  'XYZ_100000\tY\t2\t\t\t\t',\n  'Male\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t',\n  'N\tH-1B\t1/21/2013\tN \tNA',\n  'N\tNA\tN',\n  '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Software Engineer\tEngineering\tLevel 5\tSalary',\n  'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000',\n  'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA',\n  'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz',\n  '10', '26', 'Average', '=AVERAGE(GD2:GE2)'\n], [\n  'ABC_100001\tJohn2\tSmith2\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport',\n  'ABC_100000\tY\t2\t\t\t\t',\n  'Female\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t',\n  'Y\tL-1A\t11/2/2022\tY\tY',\n  'Y\t12/2022\tY',\n  '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Operations Engineer\tEngineering\tLevel 4\tSalary',\n  'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000',\n  'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA',\n  'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese',\n  '10', '26', 'Median', '=MEDIAN(GD3:GE3)'\n], [\n  'XYZ_100001\tRaj2\tPatel2\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport',\n  'XYZ_100000\tY\t2\t\t\t\t',\n  'Female\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t',\n  'N\tH-1B\t1/21/2013\tN \tNA',\n  'N\tNA\tN',\n  '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Software Engineer\tEngineering\tLevel 5\tSalary',\n  'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000',\n  'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA',\n  'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz',\n  '10', '26', 'MAX', '=MAX(GD4:GE4)'\n], [\n  'ABC_100002\tJohn3\tSmith3\tjsmith@abc.com\tABC\tABC US Ltd\tActive\tEmployee \t01/01/2010\tY\tDallas, TX\tYes\t6\tData Analyst\tAnalysts\tSupport',\n  'ABC_100000\tY\t2\t\t\t\t',\n  'Male\t01/01/1970\tWhite\tAmerican\t1234\tAnalytics\tpburke@abc.com\tResult of AIA analysis\t\tNo\t\t\t\t\t\t\t',\n  'Y\tL-1A\t11/2/2022\tY\tY',\n  'Y\t12/2022\tY',\n  '545454\tABC_100000\tWFM Team - Krakow (Manas Kapoor)\t65652\tEngineer\t11/1/2021\t11/1/2021\tUSA\tMr\tJohn\tWilliam\tJohnson\t\twilliams@gmail.com\t98\t11/1/2021\t11/1/2021\tIC\t11/1/2021\t11/1/2021\t65\tEngineer\tEngineer\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t240000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Operations Engineer\tEngineering\tLevel 4\tSalary',\n  'jma@uber.com\tJim James\tjim@gmail.com\t233442\tEngineer\tJack Edwars\tSan Francisco\t150000\t35000\t250000\t120000\t12000',\n  'jma@uber.com\tJim Jones\tjim@gmail.com\t233442\t2B\t9/9/2018\t2\t100000\t3000\t6000\t11200\t5000\t16200\tY\tLess\t20100\t4000\t12000\tNA\tY\tSent\t24\t40\t2300\tSan Francisco\tCA   \t11/7/1982\t39\tEngineer II\t\tNA',\n  'WFM Team - Krakow (Manas Kapoor)\tJill Hazelbaker\tThomas Ranese',\n  '10', '26', 'MIN', '=MIN(GD5:GE5)'\n], [\n  'XYZ_100002\tRaj3\tPatel3\traj.patel@xyz.com\tXYZ\tXYZ Canada Sub\tActive\tContractor\t12/01/2002\tY\tQuebec, Canada\tYes\t4\tData Engineer\tEngineering\tSupport',\n  'XYZ_100000\tY\t2\t\t\t\t',\n  'Female\t08/25/1980\tAsian\tIndian\t456788\tEngineering\ttim.copling@xyz.com\t\t\tNo\t\t\t09/01/2021\t10/01/2021\t10/01/2021\t\t',\n  'N\tH-1B\t1/21/2013\tN \tNA',\n  'N\tNA\tN',\n  '678345\tXYZ_100000\tEats Support (Katarzyna Barbara Musiał)\t9781\tSales Lead\t10/15/2021\t10/15/2021\tCDA\tMrs\tLisa\tMaria\tJones\t\tJones@gmail.com\t121\t10/15/2021\t10/15/2021\tMgr\t10/15/2021\t10/15/2021\t34\tSales Lead\tGlobal Sales Lead\tSan Francisco\t112\tFull Time\tbi weekly\t40\t40\t40\tFull Time\t400000\t6\t654\t345\t435\t5000\t11000\tUSD\tbi weekly\tA \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',\n  'Software Engineer\tEngineering\tLevel 5\tSalary',\n  'joan@uber.com\tJoan Davis\tjd1232@gmail.com\t453222\tSales Manager\tJill Beans\tSan Francisco\t150000\t45000\t250000\t10000\t12000',\n  'joan@uber.com\tJoan Williams\tjd1232@gmail.com\t453222\t1A\t10/1/2020\t1\t210000\t2300\t2600\t11000\t3000\t14000\tN\tGreater\t17800\t4000\t12000\tNA\tY\tSent\t32\t40\t2300\tChicago\tNon CA\t6/6/1988\t33\tSales Manager\t\tNA',\n  'Eats Support (Katarzyna Barbara Musiał)\tAndrew Macdonald\tAnabel Diaz',\n  '10', '26', 'Sum of First Value', '=SUM(GD:GD)'\n]\n]\n\nconst cleanRawData = (rawDataArr) => {\n  let cleanedData = [];\n  rawDataArr.forEach((rawData) => {\n    cleanedData.push(rawData.reduce((prev, data) => {\n      return prev.concat(data.split('\\t'));\n    }, []))\n  });\n  return cleanedData;\n};\nconst cleanData = cleanRawData(mockRawData);\n\nfunction App() {\n\n  const hotTable = useRef();\n  const [activeUser, setActiveUser] = useState('Admin');\n  const [activeSection, setActiveSection] = useState(\"Core People Data\");\n  const [tableHasChanged, setTableHasChanged] = useState(false);\n\n  useEffect(() => {\n    if (hotTable.current) {\n      // collapse all titles\n      // hotTable.current.hotInstance.getPlugin(\"collapsibleColumns\").collapseAll();\n\n      // get the column index that should be hidden\n      let tempHiddenArray = [];\n      allColumns.forEach(([columnName, sectionName, readOnlyIndicator, colIndex], index) => {\n        if (sectionName === activeSection || sectionName === 'Employee Unique ID (Fixed Section)') {\n          return;\n        }\n        tempHiddenArray.push(index);\n      });\n      // hide the column\n      hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").hideColumns(tempHiddenArray);\n      hotTable.current.hotInstance.render();\n    }\n  });\n\n  const testAfterChange = (changes) => {\n    if (!changes) return;\n    let [row, col, preValue, afterValue] = changes[0];\n    if (preValue === afterValue) return;\n    alert(`value at row: ${row}, col: ${col} has changed from ${preValue} to ${afterValue}`);\n    if (!tableHasChanged) setTableHasChanged(true);\n  }\n\n  const changeUser = (userType) => {\n    // change active user\n    setActiveUser(userType);\n    // set default column\n    setActiveSection(userGroup[userType][1]);\n  };\n\n  const changeSection = (currentActiveSection) => {\n    // set active section\n    setActiveSection(currentActiveSection);\n  };\n\n  const customValidator = (columnName, colIndex, query, callback) => {\n    console.log(query);\n    if (columnName === \"Gender\" && (query.toLowerCase() !== \"male\" && query.toLowerCase() !== \"female\")) {\n      callback(false);\n    } else {\n      callback(true);\n    }\n  }\n\n  return (\n    <div className=\"app-container\">\n\n      <h2 className=\"app-title\">M&A Data Demo</h2>\n\n      <div className=\"user-role-group\">\n        <p>Personas / User roles</p>\n        {\n          Object.keys(userGroup).map((key) => {\n            return <div className={`app-button ${key === activeUser ? \"active\" : \"\"}`} key={key} onClick={() => changeUser(key)}>{key}</div>;\n          })\n        }\n        <p className=\"current-user\">Current User Role is {activeUser}</p>\n      </div>\n\n      <div className=\"table-column-group\">\n        <p>This user can view below sections; Click below buttons to view different section table</p>\n        {\n          userGroup[activeUser].map((key, index) => {\n            return <div className={`app-button ${index === 0 ? \"unclickable active\" : \"\"} ${key === activeSection ? \"active\" : \"\"}`} key={`section-title-${key}`} onClick={() => changeSection(key)}>{key}</div>;\n          })\n        }\n      </div>\n\n      <HotTable\n        id=\"app-table\"\n        ref={hotTable}\n        data={cleanData}\n        height={'auto'}\n        width={\"100%\"}\n        colWidths={250}\n        search={true}\n        nestedHeaders={nestedHeaders}\n        collapsibleColumns={true}\n        dropdownMenu={true}\n        multiColumnSorting={true}\n        filters={true}\n        rowHeaders={true}\n        // colHeaders={true}\n        fixedColumnsLeft={1}\n        manualColumnResize={true}\n        manualRowResize={true}\n        manualRowMove={true}\n        hiddenColumns={true}\n        formulas={{\n          engine: HyperFormula,\n        }}\n        afterChange={(changes) => testAfterChange(changes)}\n        licenseKey=\"non-commercial-and-evaluation\">\n\n        {\n          allColumns.map(([columnName, sectionName, readOnlyIndicator, colIndex]) => {\n            return <HotColumn\n              key={`hotColumn-${colIndex}`}\n              data={colIndex}\n              readOnly={activeUser !== 'Admin' && readOnlyIndicator}\n              validator={(query, callback) => { customValidator(columnName, colIndex, query, callback) }}\n            />\n          })\n        }\n\n      </HotTable>\n\n      <p>Features need to implement in the future</p>\n      <div className={`app-button ${tableHasChanged ? \"active\" : \"\"}`}>Save the new / updated fields</div>\n      <div className=\"app-button\">Import from Google Sheet</div>\n      <div className=\"app-button\">Export to Google Sheet</div>\n      {/* <div className=\"app-button\">Download Data to Local</div> */}\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}