{"ast":null,"code":"var _jsxFileName = \"/Users/mingjie.wang/Documents/Uber/MandA/demo-project/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Handsontable from \"handsontable\";\nimport { HotTable, HotColumn } from \"@handsontable/react\";\nimport \"handsontable/dist/handsontable.min.css\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tableTitle = {\n  \"Always Available\": [\"Employee Unique ID\"],\n  \"Core People Data\": [\"First Name\", \"Last Name\", \"Email\", \"Company\", \"Legal Entity\", \"Employee Status\", \"Employee Type\", \"Date of Hire\", \"Immigration Supported\", \"Office/\\nLocation\", \"Remote working\", \"Current Job Level\", \"Current Job Title\", \"Current Job Family Group\", \"Function\"],\n  \"M&A Integration Process\": [\"Uber EEID\", \"In Deal (Y/N)\", \"WAVE\", \"Disposition\", \"Cohort\", \"Reason left Deal\", \"Date Left\"],\n  \"Legal\": [\"Gender\", \"Date of Birth\", \"Race/Ethnicity\", \"Nationality\", \"Supervisor Unique ID\", \"Supervisor Organization\", \"Supervisor Email\", \"AIA Flag\", \"Legal Hold\", \"Garden Leave\", \"Employee Transfer Decision\", \"Talent Release Justification\", \"Notification Date\", \"Last Day Worked\", \"Termination Date\", \"Office location\", \"Disposition\"],\n  \"Immigration\": [\"Immigration Supported\", \"Immigration Status\", \"Visa Expiration\", \"Can start on Day 1?\", \"Eligible for Immi Garden Leave\"],\n  \"Mobility\": [\"On Assignment (Y/N)\", \"Assignment end date\", \"Relocation (Y/N)\"],\n  \"Comp (PM)\": [\"Previous Base Salary\", \"Previous Total Cash\", \"Previous Equity holdings\", \"Vesting Schedule\", \"Shares per Vest Cycle\", \"Uber Location\", \"Uber Job Ladder\", \"Uber Level\", \"Uber Base\", \"Uber Bonus\", \"Uber Equity\"],\n  \"Comp (M&A)\": [\"???Here\"],\n  \"TA\": [null],\n  \"Welcome / POps\": [\"Email Address\", \"Name\", \"Personal Email\", \"EEID\", \"Job Title\", \"Manager\", \"Uber Office Location\", \"Base Salary\", \"Bonus Target\", \"New Hire Grant\", \"Bridge Bonus\", \"Retention Bonus\"],\n  \"Separation / POps\": [\"Email Address\", \"Name\", \"Personal Email\", \"EEID\", \"Disposition\", \"Name\", \"Personal Email\", \"Original Start Date\", \"Tenured Uber \\n(Years + Quarters)\", \"Current Unvested Equity\", \"Weekly Salary\", \"2 weeks pay\", \"Base Severance\\n( 4 weeks) \", \"Tenure Severance\", \"Uber Severance\\n( Base + Tenure)\", \"Uber Severance less Equity\", \"Is equity greater than Uber severance? (greater/ Less)\", \"Final Severance amount\", \"COBRA amount\", \"6 Month Benefits Cash Payment\", \"LOA Flag?\", \"Immigration Check\", \"Severance template\", \"Hourly Rate\", \"Hours per Week\", \"Integration Bonus\", \"Location\", \"CA or Non CA\", \"Date of Birth\", \"Age\", \"Job Title\", \"Uber Severance Policy\", \"WARN check\"]\n};\nconst userGroup = {\n  \"admin\": null,\n  \"user1\": [\"M&A Integration Process\", \"Legal\", \"Immigration\"],\n  \"user2\": [\"M&A Integration Process\", \"Legal\", \"Immigration\", \"Mobility\", \"Comp (PM)\", \"Comp (M&A)\", \"TA\", \"Welcome / POps\"],\n  \"user3\": [\"M&A Integration Process\", \"Legal\", \"Immigration\", \"Mobility\", \"Comp (PM)\", \"Comp (M&A)\", \"TA\", \"Separation / POps\"]\n};\nconst nestedHeaders = [// get overall title\nObject.keys(tableTitle).map(key => {\n  return {\n    label: key,\n    colspan: tableTitle[key].length\n  };\n}), // get all sub titles\nObject.values(tableTitle).reduce((previous, value) => {\n  return previous.concat(value);\n}, [])];\nconst demoData = Handsontable.helper.createSpreadsheetData(50, nestedHeaders[1].length);\n\nfunction App() {\n  _s();\n\n  const hotTable = useRef();\n  const [activeUser, setActiveUser] = useState('admin');\n  useEffect(() => {\n    // collapse all titles\n    if (hotTable.current) {\n      hotTable.current.hotInstance.getPlugin(\"collapsibleColumns\").collapseAll(); // hotTable.current.hotInstance.\n    }\n  });\n\n  const testAfterChange = changes => {\n    if (!changes) return;\n    console.log(changes);\n  };\n\n  const hideColumnBasedOnUser = userType => {\n    if (!hotTable.current) return;\n    console.log(userType); // reset the table in to default condition\n\n    let prevHiddenColumn = hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").getHiddenColumns();\n    hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").showColumns(prevHiddenColumn); // hide column based on its corresponding userType\n\n    if (!userGroup[userType]) return;\n    let newHiddenColumn = [];\n    let index = 0;\n    Object.entries(tableTitle).forEach((key, value) => {\n      console.log(key);\n\n      if (userGroup[userType].includes(key)) {\n        console.log(key);\n        newHiddenColumn.concat(Array.from({\n          length: value.length\n        }, (_, i) => i + index));\n      }\n\n      index += value.length;\n    });\n    console.log(newHiddenColumn);\n    hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").hideColumns([...Array(16).keys()]);\n    hotTable.current.hotInstance.render(); // change active user\n\n    setActiveUser(userType);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"app-title\",\n      children: \"M&A Data Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-role-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"click below buttons to switch between different user types\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), Object.keys(userGroup).map(key => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `app-button ${key === activeUser ? \"active\" : \"\"}`,\n          onClick: () => hideColumnBasedOnUser(key),\n          children: key\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 20\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"current-user\",\n        children: [\"Current User is \", activeUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotTable, {\n      id: \"app-table\",\n      ref: hotTable,\n      data: demoData,\n      height: 500,\n      width: \"100%\",\n      colWidths: 200,\n      search: true,\n      nestedHeaders: nestedHeaders,\n      collapsibleColumns: true,\n      dropdownMenu: true,\n      multiColumnSorting: true,\n      filters: true,\n      rowHeaders: true,\n      fixedColumnsLeft: 1,\n      manualColumnResize: true,\n      manualRowResize: true,\n      manualRowMove: true,\n      hiddenColumns: true,\n      afterChange: changes => testAfterChange(changes),\n      licenseKey: \"non-commercial-and-evaluation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-column-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"click below buttons to hide certain column\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), Object.keys(tableTitle).map(key => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-button\",\n          children: key\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"71Bx04Ieg7KhvV4gJ5k45zg9buE=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mingjie.wang/Documents/Uber/MandA/demo-project/src/App.js"],"names":["React","useEffect","useRef","useState","Handsontable","HotTable","HotColumn","tableTitle","userGroup","nestedHeaders","Object","keys","map","key","label","colspan","length","values","reduce","previous","value","concat","demoData","helper","createSpreadsheetData","App","hotTable","activeUser","setActiveUser","current","hotInstance","getPlugin","collapseAll","testAfterChange","changes","console","log","hideColumnBasedOnUser","userType","prevHiddenColumn","getHiddenColumns","showColumns","newHiddenColumn","index","entries","forEach","includes","Array","from","_","i","hideColumns","render"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Handsontable from \"handsontable\";\nimport { HotTable, HotColumn } from \"@handsontable/react\";\nimport \"handsontable/dist/handsontable.min.css\";\nimport \"./App.css\";\n\nconst tableTitle = {\n  \"Always Available\": [\"Employee Unique ID\"],\n  \"Core People Data\": [\"First Name\", \"Last Name\", \"Email\", \"Company\", \"Legal Entity\", \"Employee Status\", \"Employee Type\", \"Date of Hire\", \"Immigration Supported\", \"Office/\\nLocation\", \"Remote working\", \"Current Job Level\", \"Current Job Title\", \"Current Job Family Group\", \"Function\"],\n  \"M&A Integration Process\": [\"Uber EEID\", \"In Deal (Y/N)\", \"WAVE\", \"Disposition\", \"Cohort\", \"Reason left Deal\", \"Date Left\"],\n  \"Legal\": [\"Gender\", \"Date of Birth\", \"Race/Ethnicity\", \"Nationality\", \"Supervisor Unique ID\", \"Supervisor Organization\", \"Supervisor Email\", \"AIA Flag\", \"Legal Hold\", \"Garden Leave\", \"Employee Transfer Decision\", \"Talent Release Justification\", \"Notification Date\", \"Last Day Worked\", \"Termination Date\", \"Office location\", \"Disposition\"],\n  \"Immigration\": [\"Immigration Supported\", \"Immigration Status\", \"Visa Expiration\", \"Can start on Day 1?\", \"Eligible for Immi Garden Leave\"],\n  \"Mobility\": [\"On Assignment (Y/N)\", \"Assignment end date\", \"Relocation (Y/N)\"],\n  \"Comp (PM)\": [\"Previous Base Salary\", \"Previous Total Cash\", \"Previous Equity holdings\", \"Vesting Schedule\", \"Shares per Vest Cycle\", \"Uber Location\", \"Uber Job Ladder\", \"Uber Level\", \"Uber Base\", \"Uber Bonus\", \"Uber Equity\"],\n  \"Comp (M&A)\": [\"???Here\"],\n  \"TA\": [null],\n  \"Welcome / POps\": [\"Email Address\", \"Name\", \"Personal Email\", \"EEID\", \"Job Title\", \"Manager\", \"Uber Office Location\", \"Base Salary\", \"Bonus Target\", \"New Hire Grant\", \"Bridge Bonus\", \"Retention Bonus\"],\n  \"Separation / POps\": [\"Email Address\", \"Name\", \"Personal Email\", \"EEID\", \"Disposition\", \"Name\", \"Personal Email\", \"Original Start Date\", \"Tenured Uber \\n(Years + Quarters)\", \"Current Unvested Equity\", \"Weekly Salary\", \"2 weeks pay\", \"Base Severance\\n( 4 weeks) \", \"Tenure Severance\", \"Uber Severance\\n( Base + Tenure)\", \"Uber Severance less Equity\", \"Is equity greater than Uber severance? (greater/ Less)\", \"Final Severance amount\", \"COBRA amount\", \"6 Month Benefits Cash Payment\", \"LOA Flag?\", \"Immigration Check\", \"Severance template\", \"Hourly Rate\", \"Hours per Week\", \"Integration Bonus\", \"Location\", \"CA or Non CA\", \"Date of Birth\", \"Age\", \"Job Title\", \"Uber Severance Policy\", \"WARN check\"],\n}\n\nconst userGroup = {\n  \"admin\": null,\n  \"user1\": [\"M&A Integration Process\", \"Legal\", \"Immigration\"],\n  \"user2\": [\"M&A Integration Process\", \"Legal\", \"Immigration\", \"Mobility\", \"Comp (PM)\", \"Comp (M&A)\", \"TA\", \"Welcome / POps\"],\n  \"user3\": [\"M&A Integration Process\", \"Legal\", \"Immigration\", \"Mobility\", \"Comp (PM)\", \"Comp (M&A)\", \"TA\", \"Separation / POps\"]\n}\n\nconst nestedHeaders = [\n  // get overall title\n  Object.keys(tableTitle).map((key) => {\n    return {\n      label: key,\n      colspan: tableTitle[key].length\n    };\n  }),\n  // get all sub titles\n  Object.values(tableTitle).reduce((previous, value) => {\n    return previous.concat(value);\n  }, [])\n];\n\nconst demoData = Handsontable.helper.createSpreadsheetData(50, nestedHeaders[1].length);\n\n\nfunction App() {\n\n  const hotTable = useRef();\n  const [activeUser, setActiveUser] = useState('admin');\n\n  useEffect(() => {\n    // collapse all titles\n    if (hotTable.current) {\n      hotTable.current.hotInstance.getPlugin(\"collapsibleColumns\").collapseAll();\n      // hotTable.current.hotInstance.\n    }\n  });\n\n  const testAfterChange = (changes) => {\n    if (!changes) return;\n    console.log(changes);\n  }\n\n  const hideColumnBasedOnUser = (userType) => {\n    if (!hotTable.current) return;\n    console.log(userType);\n    // reset the table in to default condition\n    let prevHiddenColumn = hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").getHiddenColumns();\n    hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").showColumns(prevHiddenColumn);\n    // hide column based on its corresponding userType\n    if (!userGroup[userType]) return;\n    let newHiddenColumn = [];\n    let index = 0;\n    Object.entries(tableTitle).forEach((key, value) => {\n      console.log(key);\n      if (userGroup[userType].includes(key)) {\n        console.log(key);\n        newHiddenColumn.concat(Array.from({ length: value.length }, (_, i) => i + index));\n      }\n      index += value.length;\n    });\n    console.log(newHiddenColumn);\n    hotTable.current.hotInstance.getPlugin(\"hiddenColumns\").hideColumns([...Array(16).keys()]);\n    hotTable.current.hotInstance.render();\n    // change active user\n    setActiveUser(userType);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h2 className=\"app-title\">M&A Data Demo</h2>\n      <div className=\"user-role-group\">\n        <p>click below buttons to switch between different user types</p>\n        {\n          Object.keys(userGroup).map((key) => {\n            return <div className={`app-button ${key === activeUser ? \"active\" : \"\"}`} key={key} onClick={() => hideColumnBasedOnUser(key)}>{key}</div>;\n          })\n        }\n        <p className=\"current-user\">Current User is {activeUser}</p>\n      </div>\n      <HotTable\n        id=\"app-table\"\n        ref={hotTable}\n        data={demoData}\n        height={500}\n        width={\"100%\"}\n        colWidths={200}\n        search={true}\n        nestedHeaders={nestedHeaders}\n        collapsibleColumns={true}\n        dropdownMenu={true}\n        multiColumnSorting={true}\n        filters={true}\n        rowHeaders={true}\n        fixedColumnsLeft={1}\n        manualColumnResize={true}\n        manualRowResize={true}\n        manualRowMove={true}\n        hiddenColumns={true}\n        afterChange={(changes) => testAfterChange(changes)}\n        licenseKey=\"non-commercial-and-evaluation\">\n      </HotTable>\n      <div className=\"table-column-group\">\n        <p>click below buttons to hide certain column</p>\n        {\n          Object.keys(tableTitle).map((key) => {\n            return <div className=\"app-button\" key={key}>{key}</div>;\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}