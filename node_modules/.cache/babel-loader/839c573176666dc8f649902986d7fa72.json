{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { contains, every, has, some } from \"../../../utils/utils\";\nimport { AbstractProduction, Alternation, Flat, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal } from \"./gast_public\";\nimport { GAstVisitor } from \"./gast_visitor_public\";\nexport function isSequenceProd(prod) {\n  return prod instanceof Flat || prod instanceof Option || prod instanceof Repetition || prod instanceof RepetitionMandatory || prod instanceof RepetitionMandatoryWithSeparator || prod instanceof RepetitionWithSeparator || prod instanceof Terminal || prod instanceof Rule;\n}\nexport function isOptionalProd(prod, alreadyVisited) {\n  if (alreadyVisited === void 0) {\n    alreadyVisited = [];\n  }\n\n  var isDirectlyOptional = prod instanceof Option || prod instanceof Repetition || prod instanceof RepetitionWithSeparator;\n\n  if (isDirectlyOptional) {\n    return true;\n  } // note that this can cause infinite loop if one optional empty TOP production has a cyclic dependency with another\n  // empty optional top rule\n  // may be indirectly optional ((A?B?C?) | (D?E?F?))\n\n\n  if (prod instanceof Alternation) {\n    // for OR its enough for just one of the alternatives to be optional\n    return some(prod.definition, function (subProd) {\n      return isOptionalProd(subProd, alreadyVisited);\n    });\n  } else if (prod instanceof NonTerminal && contains(alreadyVisited, prod)) {\n    // avoiding stack overflow due to infinite recursion\n    return false;\n  } else if (prod instanceof AbstractProduction) {\n    if (prod instanceof NonTerminal) {\n      alreadyVisited.push(prod);\n    }\n\n    return every(prod.definition, function (subProd) {\n      return isOptionalProd(subProd, alreadyVisited);\n    });\n  } else {\n    return false;\n  }\n}\nexport function isBranchingProd(prod) {\n  return prod instanceof Alternation;\n}\nexport function getProductionDslName(prod) {\n  /* istanbul ignore else */\n  if (prod instanceof NonTerminal) {\n    return \"SUBRULE\";\n  } else if (prod instanceof Option) {\n    return \"OPTION\";\n  } else if (prod instanceof Alternation) {\n    return \"OR\";\n  } else if (prod instanceof RepetitionMandatory) {\n    return \"AT_LEAST_ONE\";\n  } else if (prod instanceof RepetitionMandatoryWithSeparator) {\n    return \"AT_LEAST_ONE_SEP\";\n  } else if (prod instanceof RepetitionWithSeparator) {\n    return \"MANY_SEP\";\n  } else if (prod instanceof Repetition) {\n    return \"MANY\";\n  } else if (prod instanceof Terminal) {\n    return \"CONSUME\";\n  } else {\n    throw Error(\"non exhaustive match\");\n  }\n}\n\nvar DslMethodsCollectorVisitor = function (_super) {\n  __extends(DslMethodsCollectorVisitor, _super);\n\n  function DslMethodsCollectorVisitor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this; // A minus is never valid in an identifier name\n\n\n    _this.separator = \"-\";\n    _this.dslMethods = {\n      option: [],\n      alternation: [],\n      repetition: [],\n      repetitionWithSeparator: [],\n      repetitionMandatory: [],\n      repetitionMandatoryWithSeparator: []\n    };\n    return _this;\n  }\n\n  DslMethodsCollectorVisitor.prototype.reset = function () {\n    this.dslMethods = {\n      option: [],\n      alternation: [],\n      repetition: [],\n      repetitionWithSeparator: [],\n      repetitionMandatory: [],\n      repetitionMandatoryWithSeparator: []\n    };\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitTerminal = function (terminal) {\n    var key = terminal.terminalType.name + this.separator + \"Terminal\";\n\n    if (!has(this.dslMethods, key)) {\n      this.dslMethods[key] = [];\n    }\n\n    this.dslMethods[key].push(terminal);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitNonTerminal = function (subrule) {\n    var key = subrule.nonTerminalName + this.separator + \"Terminal\";\n\n    if (!has(this.dslMethods, key)) {\n      this.dslMethods[key] = [];\n    }\n\n    this.dslMethods[key].push(subrule);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitOption = function (option) {\n    this.dslMethods.option.push(option);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator = function (manySep) {\n    this.dslMethods.repetitionWithSeparator.push(manySep);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory = function (atLeastOne) {\n    this.dslMethods.repetitionMandatory.push(atLeastOne);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator = function (atLeastOneSep) {\n    this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetition = function (many) {\n    this.dslMethods.repetition.push(many);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitAlternation = function (or) {\n    this.dslMethods.alternation.push(or);\n  };\n\n  return DslMethodsCollectorVisitor;\n}(GAstVisitor);\n\nexport { DslMethodsCollectorVisitor };\nvar collectorVisitor = new DslMethodsCollectorVisitor();\nexport function collectMethods(rule) {\n  collectorVisitor.reset();\n  rule.accept(collectorVisitor);\n  var dslMethods = collectorVisitor.dslMethods; // avoid uncleaned references\n\n  collectorVisitor.reset();\n  return dslMethods;\n}","map":{"version":3,"sources":["/Users/mingjie.wang/Documents/Uber/MandA/demo-project/node_modules/chevrotain/lib_esm/src/parse/grammar/gast/gast.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","contains","every","has","some","AbstractProduction","Alternation","Flat","NonTerminal","Option","Repetition","RepetitionMandatory","RepetitionMandatoryWithSeparator","RepetitionWithSeparator","Rule","Terminal","GAstVisitor","isSequenceProd","prod","isOptionalProd","alreadyVisited","isDirectlyOptional","definition","subProd","push","isBranchingProd","getProductionDslName","Error","DslMethodsCollectorVisitor","_super","_this","apply","arguments","separator","dslMethods","option","alternation","repetition","repetitionWithSeparator","repetitionMandatory","repetitionMandatoryWithSeparator","reset","visitTerminal","terminal","key","terminalType","name","visitNonTerminal","subrule","nonTerminalName","visitOption","visitRepetitionWithSeparator","manySep","visitRepetitionMandatory","atLeastOne","visitRepetitionMandatoryWithSeparator","atLeastOneSep","visitRepetition","many","visitAlternation","or","collectorVisitor","collectMethods","rule","accept"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { contains, every, has, some } from \"../../../utils/utils\";\nimport { AbstractProduction, Alternation, Flat, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal } from \"./gast_public\";\nimport { GAstVisitor } from \"./gast_visitor_public\";\nexport function isSequenceProd(prod) {\n    return (prod instanceof Flat ||\n        prod instanceof Option ||\n        prod instanceof Repetition ||\n        prod instanceof RepetitionMandatory ||\n        prod instanceof RepetitionMandatoryWithSeparator ||\n        prod instanceof RepetitionWithSeparator ||\n        prod instanceof Terminal ||\n        prod instanceof Rule);\n}\nexport function isOptionalProd(prod, alreadyVisited) {\n    if (alreadyVisited === void 0) { alreadyVisited = []; }\n    var isDirectlyOptional = prod instanceof Option ||\n        prod instanceof Repetition ||\n        prod instanceof RepetitionWithSeparator;\n    if (isDirectlyOptional) {\n        return true;\n    }\n    // note that this can cause infinite loop if one optional empty TOP production has a cyclic dependency with another\n    // empty optional top rule\n    // may be indirectly optional ((A?B?C?) | (D?E?F?))\n    if (prod instanceof Alternation) {\n        // for OR its enough for just one of the alternatives to be optional\n        return some(prod.definition, function (subProd) {\n            return isOptionalProd(subProd, alreadyVisited);\n        });\n    }\n    else if (prod instanceof NonTerminal && contains(alreadyVisited, prod)) {\n        // avoiding stack overflow due to infinite recursion\n        return false;\n    }\n    else if (prod instanceof AbstractProduction) {\n        if (prod instanceof NonTerminal) {\n            alreadyVisited.push(prod);\n        }\n        return every(prod.definition, function (subProd) {\n            return isOptionalProd(subProd, alreadyVisited);\n        });\n    }\n    else {\n        return false;\n    }\n}\nexport function isBranchingProd(prod) {\n    return prod instanceof Alternation;\n}\nexport function getProductionDslName(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof NonTerminal) {\n        return \"SUBRULE\";\n    }\n    else if (prod instanceof Option) {\n        return \"OPTION\";\n    }\n    else if (prod instanceof Alternation) {\n        return \"OR\";\n    }\n    else if (prod instanceof RepetitionMandatory) {\n        return \"AT_LEAST_ONE\";\n    }\n    else if (prod instanceof RepetitionMandatoryWithSeparator) {\n        return \"AT_LEAST_ONE_SEP\";\n    }\n    else if (prod instanceof RepetitionWithSeparator) {\n        return \"MANY_SEP\";\n    }\n    else if (prod instanceof Repetition) {\n        return \"MANY\";\n    }\n    else if (prod instanceof Terminal) {\n        return \"CONSUME\";\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nvar DslMethodsCollectorVisitor = /** @class */ (function (_super) {\n    __extends(DslMethodsCollectorVisitor, _super);\n    function DslMethodsCollectorVisitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // A minus is never valid in an identifier name\n        _this.separator = \"-\";\n        _this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: []\n        };\n        return _this;\n    }\n    DslMethodsCollectorVisitor.prototype.reset = function () {\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: []\n        };\n    };\n    DslMethodsCollectorVisitor.prototype.visitTerminal = function (terminal) {\n        var key = terminal.terminalType.name + this.separator + \"Terminal\";\n        if (!has(this.dslMethods, key)) {\n            this.dslMethods[key] = [];\n        }\n        this.dslMethods[key].push(terminal);\n    };\n    DslMethodsCollectorVisitor.prototype.visitNonTerminal = function (subrule) {\n        var key = subrule.nonTerminalName + this.separator + \"Terminal\";\n        if (!has(this.dslMethods, key)) {\n            this.dslMethods[key] = [];\n        }\n        this.dslMethods[key].push(subrule);\n    };\n    DslMethodsCollectorVisitor.prototype.visitOption = function (option) {\n        this.dslMethods.option.push(option);\n    };\n    DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator = function (manySep) {\n        this.dslMethods.repetitionWithSeparator.push(manySep);\n    };\n    DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory = function (atLeastOne) {\n        this.dslMethods.repetitionMandatory.push(atLeastOne);\n    };\n    DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator = function (atLeastOneSep) {\n        this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n    };\n    DslMethodsCollectorVisitor.prototype.visitRepetition = function (many) {\n        this.dslMethods.repetition.push(many);\n    };\n    DslMethodsCollectorVisitor.prototype.visitAlternation = function (or) {\n        this.dslMethods.alternation.push(or);\n    };\n    return DslMethodsCollectorVisitor;\n}(GAstVisitor));\nexport { DslMethodsCollectorVisitor };\nvar collectorVisitor = new DslMethodsCollectorVisitor();\nexport function collectMethods(rule) {\n    collectorVisitor.reset();\n    rule.accept(collectorVisitor);\n    var dslMethods = collectorVisitor.dslMethods;\n    // avoid uncleaned references\n    collectorVisitor.reset();\n    return dslMethods;\n}\n//# sourceMappingURL=gast.js.map"]},"metadata":{},"sourceType":"module"}